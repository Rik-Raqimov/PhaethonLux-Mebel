<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>Flatpickr Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body style="padding: 50px;">

<h3>Test TÉ™qvimi</h3>
<div id="calendar"></div>
<div id="timeSlots" style="margin-top:20px;"></div>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        console.log("âœ… DOMContentLoaded fired");

        const calendarEl = document.getElementById("calendar");
        if (!calendarEl) {
            console.error("âŒ #calendar tapÄ±lmadÄ±!");
            return;
        }

        flatpickr(calendarEl, {
            inline: true,
            dateFormat: "Y-m-d",
            onReady: () => console.log("âœ… Flatpickr yaradÄ±ldÄ±"),
            onChange: (selectedDates, dateStr) => generateTimeSlots(dateStr)
        });
    });

    function generateTimeSlots(dateStr) {
        const div = document.getElementById("timeSlots");
        div.innerHTML = "";
        const times = ["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"];
        const title = document.createElement("h4");
        title.textContent = `${dateStr} Ã¼Ã§Ã¼n vaxt seÃ§:`;
        div.appendChild(title);

        times.forEach(time => {
            const btn = document.createElement("button");
            btn.textContent = time;
            btn.style.margin = "4px";
            btn.onclick = () => console.log(`ðŸ•’ SeÃ§ildi: ${dateStr} ${time}`);
            div.appendChild(btn);
        });
    }
</script>

</body>
</html>
